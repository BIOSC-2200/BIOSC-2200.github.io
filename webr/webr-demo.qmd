---
title: "webr-demo"
engine: knitr
date: 'today'
format: 
  html: 
    self-contained: true 
webr: 
  packages: ['ggplot2', 'dplyr']
filters: 
  - webr
---

```{r}
#| echo: false
#| message: false
#| warning: false

library(ggplot2)
library(dplyr)
```


## WebR

This document demonstrates some basic [webr](https://docs.r-wasm.org/webr/latest/) functionality.

The data below are the first 10 of `r nrow(faithful)` sequential eruptions of the geyser Old Faithful in Yellowstone National Park.

![](https://upload.wikimedia.org/wikipedia/commons/8/80/OldFaithful1948.jpg)

```{r}
faithful |> slice(1:10)
```

The column `eruptions` represents the duration of the eruption in minutes. The column `waiting` represents the time until the next eruption.

```{webr-r}
p <- mtcars |> 
   ggplot(aes(x = wt, y = mpg, color = factor(cyl))) + 
   geom_point(shape = 21)

p
```

We can modify this base graph (stored as the variable `p`), for instance by changing the background from grey to white. 
```{webr-r}
p + theme_minimal()
```

Now, replace the text in the previous cell to read: 

```{r}
#| eval: false

p + 
  labs(title = "Title", x = "Weight", y = "Miles-per-gallon") +
  theme_minimal()
```

(You can click the clipboard icon at the upper-right of the cell above to copy its text) and click `Run Code` again.